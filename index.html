<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Typing Speed Tester</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
    }
    #text {
      font-size: 18px;
      margin: 20px 0;
      background: #f2f2f2;
      padding: 10px;
      border-radius: 5px;
    }
    #input {
      width: 80%;
      padding: 10px;
      font-size: 16px;
    }
    #result {
      margin-top: 15px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>⚡ Typing Speed Tester</h1>

  <p><b>How to use:</b></p>
  <ol style="text-align:left; max-width:500px; margin:0 auto;">
    <li>Click <b>Start Test</b> to get a random text.</li>
    <li>Type the text exactly into the box below.</li>
    <li>The timer starts when you begin typing.</li>
    <li>When you finish typing correctly, your <b>WPM</b>, <b>Accuracy</b>, and <b>Time</b> will be shown.</li>
  </ol>

  <button onclick="startTest()">Start Test</button>

  <div id="text">Your text will appear here...</div>
  <textarea id="input" rows="4" disabled placeholder="Start test to begin typing..."></textarea>
  
  <div id="result"></div>

  <script>
    const texts = [
      "The quick brown fox jumps over the lazy dog",
      "Typing speed tests measure how fast you can type",
      "Practice makes perfect keep improving daily",
      "Javascript is fun once you understand the basics"
    ];

    let startTime, endTime;
    let isStarted = false;
    let currentText = "";

    const textEl = document.getElementById("text");
    const inputEl = document.getElementById("input");
    const resultEl = document.getElementById("result");

    function startTest() {
      currentText = texts[Math.floor(Math.random() * texts.length)];
      textEl.textContent = currentText;
      inputEl.value = "";
      inputEl.disabled = false;
      inputEl.focus();
      resultEl.textContent = "";
      isStarted = false;
    }

    inputEl.addEventListener("input", () => {
      if (!isStarted) {
        startTime = new Date();
        isStarted = true;
      }

      if (inputEl.value === currentText) {
        endTest();
      }
    });

    function endTest() {
      endTime = new Date();
      const timeTaken = (endTime - startTime) / 1000;
      const totalWords = currentText.split(" ").length;
      const wpm = Math.round((totalWords / timeTaken) * 60);

      let correctChars = 0;
      const inputText = inputEl.value;
      for (let i = 0; i < inputText.length; i++) {
        if (inputText[i] === currentText[i]) {
          correctChars++;
        }
      }
      const accuracy = Math.round((correctChars / currentText.length) * 100);

      resultEl.textContent = `✅ WPM: ${wpm} | 🎯 Accuracy: ${accuracy}% | ⏱ Time: ${timeTaken.toFixed(1)}s`;
      inputEl.disabled = true;
    }
  </script>
</body>
</html>
